<!doctype html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <title>Evaryont's Blog - Generate a modern CSR with OpenSSL</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    <link href="/assets/stylesheets/all-9ad5bf7e.css" rel="stylesheet" />
    <link href="/assets/stylesheets/syntax-f604afaa.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://necolas.github.io/normalize.css/3.0.2/normalize.css">

    <!-- Begin favicons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-touch-icon-57x57-1885c902.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-touch-icon-60x60-818d3ba2.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-touch-icon-72x72-24ff39d6.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-touch-icon-76x76-2ed3e1aa.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-touch-icon-114x114-a24ec1c9.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120x120-775a0e3c.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-touch-icon-144x144-961cd25a.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152x152-2e670d9a.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon-180x180-e49b1a25.png">
    <link rel="icon" type="image/png" href="/icons/favicon-32x32-c49d0fa6.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/icons/android-chrome-192x192-caf79604.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/icons/favicon-96x96-f9fc8ec4.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/icons/favicon-16x16-a5398df1.png" sizes="16x16">
    <link rel="shortcut icon" href="/icons/favicon.ico">
    <!-- End favicons -->


    <meta name="viewport" content="width=device-width, initial-scale=1">

  </head>

  <body class="blog blog_2015 blog_2015_08 blog_2015_08_generate-a-modern-csr-with-openssl evs-green">

    
  <!-- sidebar -->
<div class="sidebar">
  <div class="container sidebar-sticky">
    <a href="https://evaryont.me">
      <img class='avatar' alt='My avatar' title='My avatar' src="https://secure.gravatar.com/avatar/efb9a1ec42adeec9615f062e55bf5c3e?size=256" />
    </a>
    <div class="sidebar-about">
      <p class="lead">Notes and things I don't want to forget</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
        <a class='entypo-github' href="https://github.com/evaryont">Github</a>
      </li>
      <li class="sidebar-nav-item">
        <a class='entypo-book' href="/blog.html">Blog</a>
      </li>
      <li class="sidebar-nav-item">
        <a class='entypo-twitter' href="https://twitter.com/evaryont">Twitter</a>
      </li>
    </ul>

    <p><a class="entypo-rss" href="/feed.xml">Subscribe via RSS</a><br />
       &copy; 2015. Licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.</p>
     
  </div>
</div>
<!-- /sidebar -->

  
  <div role="main" class="content container">
    <!-- this is a blog post for Generate a modern CSR with OpenSSL -->
<div class="post">
  <h1 class="post-title"><a href="/blog/2015/08/generate-a-modern-csr-with-openssl.html">Generate a modern CSR with OpenSSL</a></h1>

  <span class='post-date'>Aug  5</span>

  <p>To get an SSL certificate, you need to first generate a CSR. However, some
early settings for the CSR can cripple your deployment before you even choose
any ciphers. The normal command, <code>openssl req</code>, will use old and now insecure
defaults.</p>

<p>Not that it&rsquo;s particularly hard, you just need to pass in some parameters to the
command to opt into the newer crypto:</p>
<pre class="highlight plaintext"><code>openssl req -nodes -new -newkey rsa:4096 -sha256 -keyout private.key -out cert.csr
</code></pre>

<p>The particular updates to the command are 2 part:</p>

<ul>
<li>The new certificate request will generate a 4096 bit RSA key. This is
currently more than the base 2048 that&rsquo;s considered secure, but I have heard
rumors about 2048 becoming factorizable&hellip; Better safe than sorry.</li>
<li>Use SHA256 for the hash in the CSR.
<a href="https://shaaaaaaaaaaaaa.com/">Shaaaaaaaaaaaaa</a> has a good summary</li>
</ul>

<p>For personal sites, not EVs, you can also pass another parameter to openssl to
avoid it asking questions. All you need for those sites is just the common name
of the certificate, or the domain name to be used for the site:</p>
<pre class="highlight plaintext"><code>openssl req -subj '/CN=evaryont.me/'
</code></pre>

</div>

  </div>

  <!-- and missing comments :-( -->


    
  </body>
</html>
