<!doctype html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <title>Evaryont's Blog - Nginx may not reload config</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    <link href="/assets/stylesheets/all-92ca5d05.css" rel="stylesheet" type="text/css" />
    <link href="/assets/stylesheets/syntax-f604afaa.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="http://weloveiconfonts.com/api/?family=entypo" />

    <!-- Begin favicons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-touch-icon-57x57-1885c902.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-touch-icon-60x60-818d3ba2.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-touch-icon-72x72-24ff39d6.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-touch-icon-76x76-2ed3e1aa.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-touch-icon-114x114-a24ec1c9.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120x120-775a0e3c.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-touch-icon-144x144-961cd25a.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152x152-2e670d9a.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon-180x180-e49b1a25.png">
    <link rel="icon" type="image/png" href="/icons/favicon-32x32-c49d0fa6.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/icons/android-chrome-192x192-caf79604.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/icons/favicon-96x96-f9fc8ec4.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/icons/favicon-16x16-a5398df1.png" sizes="16x16">
    <link rel="shortcut icon" href="/icons/favicon.ico">
    <!-- End favicons -->

  </head>

  <body class="evs-green">

    <!-- sidebar -->
    <div class="sidebar">
      <div class="container sidebar-sticky">
        <img class='avatar' alt='My avatar' title='My avatar' src="https://secure.gravatar.com/avatar/efb9a1ec42adeec9615f062e55bf5c3e?size=256" />
        <div class="sidebar-about">
          <h1>Evaryont</h1>
          <p class="lead">Notes and things that I don't want to forget.</p>
        </div>

        <ul class="sidebar-nav">
          <li class="sidebar-nav-item active">
            <a class="entypo-book" href="/blog.html">Blog</a>
          </li>
          <li class="sidebar-nav-item">
            <a class="entypo-github" href="https://github.com/evaryont">Code</a>
          </li>
          <li class="sidebar-nav-item">
            <a class="entypo-twitter" href="https://twitter.com/evaryont">Twitter</a>
          </li>
        </ul>

        <p><a class="entypo-rss" href="/feed.xml">Subscribe via RSS</a><br />
           &copy; 2015. Licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.</p>
         
      </div>
    </div>
    <!-- /sidebar -->
    
    <div role="main" class="content container">
        <!-- this is a blog post for Nginx may not reload config -->
<div class="post">
  <h1 class="post-title"><a href="/blog/2015/07/nginx-may-not-reload-config.html">Nginx may not reload config</a></h1>

  <span class='post-date'>Jul 12</span>

  <p><img alt="Have you tried turning it off and on again?" src="https://www.thinkgeek.com/images/products/additional/large/11C3_ITCROWD_TURNOFFON.jpg" /></p>

<p>Per the <a href="http://wiki.nginx.org/CommandLine">nginx documentation</a>
(emphasis mine):</p>

<blockquote>
<p>What happens is that when nginx receives the HUP signal, it tries to parse the
configuration file (the specified one, if present, otherwise the default), and
if successful, tries to apply a new configuration (i.e. re-open the log files
and listen sockets). If successful, nginx runs new worker processes and
signals graceful shutdown to old workers. Notified workers close listen
sockets but continue to serve current clients. After serving all clients old
workers shutdown. <strong>If nginx couldn&rsquo;t successfully apply the new configuration,
it continues to work with an old configuration.</strong></p>
</blockquote>

<p>Thus, if you have a properly set up nginx configuration and yet you are still
getting the default &ldquo;Welcome to nginx!&rdquo; page over and over, try restarting nginx
itself. I wished I&rsquo;d have realized this aspect of nginx before spending hours
scratching my head.</p>

</div>

  <!-- and missing comments :-( -->

    </div>
    
  </body>
</html>
